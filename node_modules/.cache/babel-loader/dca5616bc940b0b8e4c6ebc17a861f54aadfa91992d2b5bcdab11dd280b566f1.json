{"ast":null,"code":"import{Link,useNavigate}from\"react-router-dom\";import{useState,useEffect}from\"react\";import Header from'../components/Header.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const url='http://34.124.232.186:5000/admin/users/';function User(_ref){let{user}=_ref;const[users,setUsers]=useState(null);const[currentUser,setCurrentUser]=useState(null);const containerStyle={display:'flex',flexDirection:'row'};const buttonStyle={backgroundColor:'#80a1e8',color:'white',padding:10,margin:10,border:'none',borderRadius:'5px',cursor:'pointer'};useEffect(()=>{const fetchData=async()=>{let data=null;try{const response=await fetch(url,{method:\"GET\",headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Token \"+user.token}});console.log(user.token);data=await response.json();console.log(data);setUsers(data.data);}catch(error){console.error(\"Error fetching sample\",error);}finally{}};if(user.user.is_superuser){fetchData();}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{text:'Problem'}),/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center',fontSize:'32px',borderStyle:'solid',borderRadius:10,borderColor:'grey',margin:15},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),users!=null?users.map(user=>{return/*#__PURE__*/_jsx(\"div\",{onClick:()=>setCurrentUser(user),style:currentUser.id==user.id?{borderStyle:'solid',borderColor:\"#2424c7\",borderRadius:10,margin:15}:{borderStyle:'solid',borderRadius:10,margin:15},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'22px',userSelect:'none'},children:user.username})});}):null]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:3,textAlign:'center',fontSize:'32px',borderStyle:'solid',borderRadius:10,borderColor:'grey',margin:15},children:currentUser==null?/*#__PURE__*/_jsx(\"h1\",{children:\"No user selected\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:currentUser.username}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'stretch'},children:[/*#__PURE__*/_jsx(\"div\",{style:{margin:5,flex:1},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",currentUser.username,\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Full name: \",currentUser.first_name==null&&currentUser.last_name==null?\"None\":currentUser.first_name+currentUser.last_name]})}),/*#__PURE__*/_jsx(\"div\",{style:{margin:5,flex:1},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Verified: \",currentUser.is_verified?\"Yes\":\"No\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Email: \",currentUser.email]})}),/*#__PURE__*/_jsx(\"div\",{style:{margin:5,flex:1},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Last login: \",currentUser.last_login==null?\"Never\":currentUser.last_login,/*#__PURE__*/_jsx(\"br\",{})]})})]},user.id),/*#__PURE__*/_jsxs(\"p\",{children:[\"Groups: \",/*#__PURE__*/_jsx(\"br\",{}),currentUser.groups.length==0?\"None\":currentUser.groups.toString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Problems: \",/*#__PURE__*/_jsx(\"br\",{}),\" \",currentUser.solved_problem.length==0?\"None\":currentUser.solved_problem.toString()]})]})]})})]})]});}export default User;","map":{"version":3,"names":["Link","useNavigate","useState","useEffect","Header","jsx","_jsx","jsxs","_jsxs","url","User","_ref","user","users","setUsers","currentUser","setCurrentUser","containerStyle","display","flexDirection","buttonStyle","backgroundColor","color","padding","margin","border","borderRadius","cursor","fetchData","data","response","fetch","method","headers","token","console","log","json","error","is_superuser","children","text","style","flex","textAlign","fontSize","borderStyle","borderColor","map","onClick","id","userSelect","username","alignItems","first_name","last_name","is_verified","email","last_login","groups","length","toString","solved_problem"],"sources":["/home/declan/Documents/gotecqfe/src/pages/User.js"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport {useState, useEffect} from \"react\";\nimport Header from '../components/Header.js';\n\nconst url = 'http://34.124.232.186:5000/admin/users/';\n\nfunction User( { user } ) {\n\n    const [users, setUsers] = useState(null);\n    const [currentUser, setCurrentUser] = useState(null);\n\n    const containerStyle = {\n        display: 'flex',\n        flexDirection: 'row'\n    }\n\n    const buttonStyle = {\n        backgroundColor: '#80a1e8',\n        color: 'white',\n        padding: 10,\n        margin: 10,\n        border: 'none',\n        borderRadius: '5px',\n        cursor: 'pointer',\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            let data = null;\n            try {\n                const response = await fetch(url, {\n                    method: \"GET\",\n                    headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': \"Token \" + user.token}});\n                console.log(user.token);\n                data = await response.json();\n                console.log(data);\n                setUsers(data.data);\n            } catch (error) {\n                console.error(\"Error fetching sample\", error);\n            } finally {\n                \n            }\n        };\n\n        if (user.user.is_superuser) {\n            fetchData();\n        }\n\n        }, []);\n\n    return (\n        <div>\n            <Header text={'Problem'}/>\n            <div style={containerStyle}>\n                <div style={{\n        flex: 1,\n        textAlign: 'center',\n        fontSize: '32px',\n        borderStyle: 'solid',\n        borderRadius: 10,\n        borderColor: 'grey',\n        margin: 15\n    }}>\n                    <h1>Users</h1>\n                    {users != null ? \n                    (users.map(user => {\n                        return <div onClick={() => setCurrentUser(user)} style={currentUser.id == user.id ? {borderStyle: 'solid', borderColor: \"#2424c7\", borderRadius: 10, margin: 15} : {borderStyle: 'solid', borderRadius: 10, margin: 15}}>\n                            <p style={{fontSize: '22px', userSelect: 'none'}}>{user.username}</p>\n                        </div>\n                    })) : null}\n                </div>\n\n                <div style={{\n        flex: 3,\n        textAlign: 'center',\n        fontSize: '32px',\n        borderStyle: 'solid',\n        borderRadius: 10,\n        borderColor: 'grey',\n        margin: 15\n    }}>\n                    {currentUser == null ? (<h1>No user selected</h1>) : (\n                    <div>\n                        <h1>{currentUser.username}</h1>\n                        <div style={{fontSize: '30px'}}>\n                            <div style={{display: 'flex', alignItems: 'stretch'}} key={user.id}>\n                                <div style={{margin: 5, flex: 1}}>\n                                    <p>\n                                        Username: {currentUser.username} <br/>\n                                        Full name: {currentUser.first_name == null && currentUser.last_name == null ? \"None\" : currentUser.first_name + currentUser.last_name}\n                                    </p>\n                                </div>\n                                <div style={{margin: 5, flex: 1}}>\n                                    <p>\n                                        Verified: {currentUser.is_verified ? \"Yes\" : \"No\"} <br/>\n                                        Email: {currentUser.email}\n                                    </p>\n                                </div>\n                                <div style={{margin: 5,  flex: 1}}>\n                                    <p>\n                                        Last login: {currentUser.last_login == null ? \"Never\" : currentUser.last_login}<br/>\n                                    </p>\n                                </div>\n                            </div>\n                            <p>\n                                Groups: <br/>{currentUser.groups.length == 0 ? \"None\" : currentUser.groups.toString()}\n                            </p>\n                            <p>\n                                Problems: <br/> {currentUser.solved_problem.length == 0 ? \"None\" : currentUser.solved_problem.toString()}\n                            </p>\n                        </div>\n                    </div>)}\n                    \n                    \n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default User;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}